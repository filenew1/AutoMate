# 侧边栏收缩功能修复计划

## 问题描述

当点击侧边栏收缩按钮时，侧边栏宽度会缩小到 60px，但内部元素显示不正常，没有正确隐藏或调整布局。

## 问题根源

1. Sidebar.tsx 组件在收缩时添加了 `sidebar-collapsed` 类
2. 但是 `global.css` 中没有定义 `.sidebar-collapsed` 的样式规则
3. 导致收缩时内部元素（搜索框、智能体列表、底部设置）没有正确隐藏或调整布局

## 修复方案

### 1. 在 global.css 中添加侧边栏收缩样式

需要添加以下样式规则：

```css
/* 侧边栏收缩状态 */
.sidebar-collapsed {
  /* 宽度由内联样式控制，这里不需要设置 */
}

/* 收缩时隐藏搜索框 */
.sidebar-collapsed .search-container {
  display: none !important;
}

/* 收缩时隐藏分组标题文字 */
.sidebar-collapsed .group-header span {
  display: none !important;
}

/* 收缩时隐藏智能体项的文字部分 */
.sidebar-collapsed .agent-item .flex-1 {
  display: none !important;
}

/* 收缩时智能体项居中显示 */
.sidebar-collapsed .agent-item {
  justify-content: center !important;
  padding: 8px 0 !important;
}

/* 收缩时底部设置文字隐藏 */
.sidebar-collapsed .p-4 span {
  display: none !important;
}

/* 收缩时底部设置按钮居中显示 */
.sidebar-collapsed .p-4 {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 12px !important;
}

/* 收缩时底部设置按钮样式调整 */
.sidebar-collapsed .p-4 button {
  justify-content: center;
  padding: 12px;
  width: 40px;
  height: 40px;
}

/* 收缩时隐藏底部状态信息 */
.sidebar-collapsed .p-4 .flex.items-center.gap-4 {
  display: none !important;
}
```

### 2. 验证修复效果

修复后需要验证：

* [ ] 点击收缩按钮，侧边栏宽度缩小到 60px

* [ ] 搜索框完全隐藏

* [ ] 智能体只显示头像，文字部分隐藏

* [ ] 智能体头像居中显示

* [ ] 分组标题文字隐藏，只显示箭头

* [ ] 底部设置只显示图标，文字隐藏

* [ ] 底部状态信息隐藏

* [ ] 点击展开按钮，所有内容正常显示

## 实施步骤

1. 在 `src/styles/global.css` 文件末尾添加侧边栏收缩样式
2. 保存文件
3. 在浏览器中测试收缩和展开功能
4. 确认所有元素在收缩时正确隐藏和调整布局

## 注意事项

* 使用 `!important` 确保样式优先级

* 保持与原型文件 `MainLayout.html` 中的样式一致

* 确保深色主题和浅色主题都能正常工作

* 保持过渡动画流畅

