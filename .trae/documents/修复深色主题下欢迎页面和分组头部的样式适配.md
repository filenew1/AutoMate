# 修复深色主题下欢迎页面和分组头部的样式适配

## 问题描述

当切换到深色主题时，欢迎页面的统计卡片模块没有适配深色主题，样式保持不变，与原型设计不符。

### 受影响的模块

1. **统计卡片 (stat-card)**：
   - 背景色没有根据主题切换
   - 数字颜色没有根据主题切换
   - 标签颜色没有根据主题切换

2. **分组头部 (group-header)**：
   - 已正确实现 ✅

3. **快速开始指南 (quick-start-guide)**：
   - 已正确实现 ✅

## 原型设计规范

根据 [MainLayout.html](../../prototypes/MainLayout.html) 原型设计：

### 统计卡片样式

**浅色主题：**
- 背景色：`bg-gray-100`
- 数字颜色：`text-blue-600` / `text-green-600` / `text-purple-600`
- 标签颜色：`text-gray-600`

**深色主题：**
- 背景色：`bg-gray-800`
- 数字颜色：`text-blue-400` / `text-green-400` / `text-purple-400`
- 标签颜色：`text-gray-400`

### 快速开始指南样式

**浅色主题：**
- 背景：`rgba(255, 255, 255, 0.6)`
- 边框：`rgba(229, 231, 235, 0.8)`
- 标题颜色：`#374151`

**深色主题：**
- 背景：`rgba(31, 41, 55, 0.6)`
- 边框：`rgba(75, 85, 99, 0.8)`
- 标题颜色：`#e5e7eb`

### 分组头部样式

**浅色主题：**
- 背景：`bg-gray-100`
- 标题颜色：`text-gray-700`

**深色主题：**
- 背景：`bg-gray-700/30`
- 标题颜色：`text-gray-200`

## 修复方案

### 修改文件
- `src/pages/WelcomePage.tsx`

### 修改内容

1. **修改统计卡片样式**：
   - 根据 `theme` 状态动态设置背景色
   - 根据 `theme` 状态动态设置数字颜色
   - 根据 `theme` 状态动态设置标签颜色

2. **修改描述文本颜色**：
   - 根据 `theme` 状态动态设置描述文本颜色

### 具体实现

```tsx
// 统计卡片样式
const getStatCardStyle = () => {
  return {
    background: theme === 'dark' ? '#1f2937' : 'linear-gradient(to bottom right, #f3f4f6, #e5e7eb)',
    borderRadius: '0.5rem',
    boxShadow: theme === 'dark' 
      ? '0 1px 3px rgba(0, 0, 0, 0.3)' 
      : '0 1px 3px rgba(0, 0, 0, 0.1)',
  }
}

// 数字颜色
const getNumberColor = (type: 'blue' | 'green' | 'purple') => {
  const colors = {
    blue: theme === 'dark' ? '#60a5fa' : '#2563eb',
    green: theme === 'dark' ? '#4ade80' : '#16a34a',
    purple: theme === 'dark' ? '#c084fc' : '#9333ea',
  }
  return colors[type]
}

// 标签颜色
const labelColor = theme === 'dark' ? '#9ca3af' : '#4b5563'

// 描述文本颜色
const descriptionColor = theme === 'dark' ? '#9ca3af' : '#4b5563'
```

## 验收标准

1. ✅ 深色主题时，统计卡片背景色为 `#1f2937` (gray-800)
2. ✅ 深色主题时，数字颜色为 `#60a5fa` / `#4ade80` / `#c084fc` (blue-400 / green-400 / purple-400)
3. ✅ 深色主题时，标签颜色为 `#9ca3af` (gray-400)
4. ✅ 深色主题时，描述文本颜色为 `#9ca3af` (gray-400)
5. ✅ 浅色主题时，统计卡片背景色为渐变色
6. ✅ 浅色主题时，数字颜色为 `#2563eb` / `#16a34a` / `#9333ea` (blue-600 / green-600 / purple-600)
7. ✅ 浅色主题时，标签颜色为 `#4b5563` (gray-600)
8. ✅ 浅色主题时，描述文本颜色为 `#4b5563` (gray-600)
9. ✅ 快速开始指南样式正确（已实现）
10. ✅ 分组头部样式正确（已实现）
11. ✅ 主题切换过渡动画流畅（300ms）
12. ✅ 在主流浏览器中无兼容性问题

## 测试计划

1. 启动开发服务器
2. 打开浏览器访问应用
3. 点击主题切换按钮，验证：
   - 深色主题下，统计卡片背景色变为深灰色
   - 深色主题下，数字颜色变为浅色（blue-400/green-400/purple-400）
   - 深色主题下，标签颜色变为浅灰色
   - 深色主题下，描述文本颜色变为浅灰色
   - 浅色主题下，所有颜色恢复到原样
   - 快速开始指南样式正确切换
   - 分组头部样式正确切换
4. 多次切换主题，验证切换流畅且无闪烁

## 相关文档

- [主题模块设计文档](../../docs/业务功能模块/主题模块.md)
- [MainLayout.html 原型](../../prototypes/MainLayout.html)
